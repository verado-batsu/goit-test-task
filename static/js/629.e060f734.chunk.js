"use strict";(self.webpackChunkgoit_test_task=self.webpackChunkgoit_test_task||[]).push([[629],{2050:function(t,n,e){e.r(n),e.d(n,{default:function(){return W}});var r=e(6151),o=e(7689),a=e(184);function i(){var t=(0,o.s0)();return(0,a.jsxs)(r.Z,{variant:"contained",color:"secondary",onClick:function(){t("/")},children:["<"," Back to Home page"]})}var s=e(9439),l=e(366),c=e(9891),u=e(2791),d=e(5048),p=e(5172),x=e(7054),f=e(2330);function g(){var t=(0,d.I0)(),n=(0,u.useState)(null),e=(0,s.Z)(n,2),o=e[0],i=e[1],g=Boolean(o),h=function(n){t((0,x.a8)(f.e[n.target.textContent.toLowerCase()])),i(null)};return(0,a.jsxs)("div",{style:{paddingTop:10},children:[(0,a.jsx)(r.Z,{variant:"contained",id:"basic-button","aria-controls":g?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":g?"true":void 0,onClick:function(t){i(t.currentTarget)},endIcon:(0,a.jsx)(p.Z,{}),children:"Filter"}),(0,a.jsxs)(l.Z,{id:"basic-menu",anchorEl:o,open:g,onClose:h,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,a.jsx)(c.Z,{onClick:h,children:"All"}),(0,a.jsx)(c.Z,{onClick:h,children:"Follow"}),(0,a.jsx)(c.Z,{onClick:h,children:"Following"})]})]})}var h,b,A=e(1413),w=e(4554),j=e(3239),v=e(890),m=e(5264),Z=e(5414),F=e(168),B=e(9202),S=B.Z.ul(h||(h=(0,F.Z)(["\n\tpadding: 10px 0;\n\tmargin-bottom: 20px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 174px;\n\t\n\tli {\n\t\tposition: relative;\n\t\tmax-width: 380px;\n\t\tbackground: linear-gradient(114.99deg, #471CA9 -0.99%, #5736A3 54.28%, #4B2A99 78.99%);\n\t\tbox-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n\t\tborder-radius: 20px;\n\t}\n\t.goit-logo {\n\t\tposition: absolute;\n\t\ttop: 20px;\n\t\tleft: 20px;\n\t}\n\t.img-wrapper{\n\t\tposition: relative;\n\t\tpadding: 28px 36px 18px;\n\t}\n\t\n\t.user-avatar{\n\t\tposition: absolute;\n\t\tleft: 150px;\n\t\tbottom: -40px;\n\t\tborder-radius: 85.9232px;\n\t\tborder: 8px solid #EBD8FF;\n\t\tbox-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06), inset 0px -1.71846px 3.43693px #AE7BE3, inset 0px 3.43693px 2.5777px #FBF8FF;\n\t}\n\n\t.white-line{\n\t\twidth: 100%;\n\t\theight: 8px;\n\t\tbackground: #EBD8FF;\n\t\tbox-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06), inset 0px -1.71846px 3.43693px #AE7BE3, inset 0px 3.43693px 2.5777px #FBF8FF;\n\t}\n\n\t.user-info{\n\t\tpadding: 62px 36px 36px;\n\t\ttext-align: center;\n\t\t& p{\n\t\t\tmargin: 0;\n\t\t\tmargin-bottom: 16px;\n\t\t\tfont-family: 'Montserrat', sans-serif;\n\t\t\tfont-weight: 500;\n\t\t\tfont-size: 20px;\n\t\t\tline-height: ",";\n\t\t\ttext-transform: uppercase;\n\t\t\tcolor: #EBD8FF;\n\t\t}\n\t\t& p:last-of-type {\n\t\t\tmargin-bottom: 26px;\n\t\t}\n\t}\n"])),1.2),C=function(t){switch(t.users.filter){case f.e.follow:return t.users.filteredUsers.filter((function(t){return!1===t.following}));case f.e.following:return t.users.filteredUsers.filter((function(t){return!0===t.following}));default:return t.users.filteredUsers}},k=function(t){return t.users.filter},E=e(4942);function N(t){try{var n,e,r="false"!==(null===(n=JSON.parse(localStorage.getItem("btnStatus")))||void 0===n?void 0:n[t.id]);return!(null===(e=JSON.parse(localStorage.getItem("btnStatus")))||void 0===e||!e[t.id])&&r}catch(o){console.log(o)}}var L=B.Z.button(b||(b=(0,F.Z)(["\n\tborder: none;\n\tpadding: 0;\n\tpadding: 14px 56px;\n\n\tbox-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n\tborder-radius: 10.3108px;\n\n\tfont-family: 'Montserrat', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 18px;\n\tline-height: ",";\n\ttext-transform: uppercase;\n\tcolor: #373737;\n\n\tcursor: pointer;\n\t","\n"])),22/18,(function(t){return t.btnStatus?"background: #5CD3A8;":"background: #EBD8FF;"}));function U(t){var n=t.getBtnStatus,e=t.user,r=t.updateLoading,o=(0,u.useState)((function(){return N(e)})),i=(0,s.Z)(o,2),l=i[0],c=i[1];return(0,a.jsx)(L,{btnStatus:l,onClick:function(){c((function(t){return function(t,n){try{var e=(0,A.Z)((0,A.Z)({},JSON.parse(localStorage.getItem("btnStatus"))),{},(0,E.Z)({},t.id,n));localStorage.setItem("btnStatus",JSON.stringify(e))}catch(r){console.log(r)}}(e,!t),n(e,!t),!t}))},type:"button",disabled:r,children:l?"Following":"Follow"})}function y(t){var n=t.toString();if(n.length>3){var e=n.slice(n.length-3),r=y(n.slice(0,n.length-3));return"".concat(r,",").concat(e)}return n}var J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ0SURBVHgB7VixbhNBEB0jjHQURsKRSBEkoEjhJi5o3FCk5psjQUNDkSYULqDISYTCSKawJTjJvOebjcabPe86kHiQeNLo9vZm93bfzbxZXW+1Wr2V/WMJe9fr9ZouB6xzjMuR7BkPxAcq2Fj+AXghjDhEFB2Lc3gijDgGac/EMbwRRoxB2mNxCo+E9WETkPZQHKJ0Ub9gX2AzaStapfYcNkz4z2E17LuOpe+R+pcgFIGPcjtcwT5p+wXslbY/SLv+be+dbHleRNiCL0LJX0Z9RK1CbcV6Ct9pYo4ZfKe6oJKUWxeBxFwlaDBuvUbMYY8qy9CfAnwlh1xKbpCFCfuwQaQxT0z70m5Q/a99dR5+5UbKwCJQGpUl4NqHatfBEvrQfJqbIBdhM0MWN/4mjME9U5TpZquaJYtpMNL2mih+Xc6H+8+yGZXbMIL/TP4OXpv2GazRfU1KJ8hFWG3aJ9KSRVLOpdWphbYZMfOI3JEZW+n4gF0IWBcBKdfbO0VuEVa3Kr0y6jY2rDrWJHylo2+b8KZAcemLA+QiLLXJihFEfYp8B6b9Q27qVIr8EjDtc9Xt3pAjzB4ZmHpMQZb7U7kpkH0VToo7N3lhnoXUDdhFyC+iCr1X5FLyJUiog1jj/kz16WfHnwWmJqOBpF3C9yuaj2wp1/GHUgYeUWpxhFyEhVO3PRosLFmqX+E5y/NJKNn0S5BVKuBXtzyD3SlKFk69OWWk4cqIaXTcgbSpFc/BvgM9dszNe7r8U4hTeFcM9f8ZMejwGemhdqdi0nPyA9GC+vc+1q3/PxC7ce5J5GN4I4wi/00cwxNhLkU+hhfC/lTk7w2/AbK0DT3l4b3DAAAAAElFTkSuQmCC",I=e.p+"static/media/card-bg.b3d9942b3f9d5dad1ff0.png";function M(t){var n=t.user,e=t.getBtnStatus,r=t.updateLoading,o=n.user,i=n.tweets,s=n.avatar,l=n.followers;return(0,a.jsxs)("li",{children:[(0,a.jsx)("img",{className:"goit-logo",src:J,alt:"GoIT logo"}),(0,a.jsxs)("div",{className:"img-wrapper",children:[(0,a.jsx)("img",{src:I,alt:"card background"}),(0,a.jsx)("img",{width:"62",height:"62",className:"user-avatar",src:s,alt:o})]}),(0,a.jsx)("div",{className:"white-line"}),(0,a.jsxs)("div",{className:"user-info",children:[(0,a.jsxs)("p",{children:["".concat(y(i)," "),"tweets"]}),(0,a.jsxs)("p",{children:["".concat(y(l)," "),"followers"]}),(0,a.jsx)(U,{updateLoading:r,getBtnStatus:e,user:n})]})]})}function K(){var t=(0,d.I0)(),n=(0,d.v9)(C),e=(0,u.useState)((function(){var t=n.length/3;return 0===t?t+1:t})),o=(0,s.Z)(e,2),i=o[0],l=o[1],c=(0,Z.zQ)(i),p=c.data,f=c.error,g=c.isFetching,h=(0,Z.kD)(),b=(0,s.Z)(h,2),F=b[0],B=b[1],E=B.error,L=B.isLoading,U=(0,d.v9)(k);function y(n,e){var r=function(t){return{id:t.id,user:t.user,tweets:t.tweets,avatar:t.avatar,followers:t.followers}}(n);if(e){var o=r.followers+1;F((0,A.Z)((0,A.Z)({},r),{},{followers:o})),t((0,x.NO)({id:r.id,status:e,followers:o}))}else{var a=r.followers-1;F((0,A.Z)((0,A.Z)({},r),{},{followers:a})),t((0,x.NO)({id:r.id,status:e,followers:a}))}}return(0,u.useEffect)((function(){if(p){var n=p.map((function(t){return(0,A.Z)((0,A.Z)({},t),{},{following:N(t)})}));t((0,x.Sh)(n))}}),[p,t]),(0,a.jsxs)(a.Fragment,{children:[f&&m.Notify.failure("Code: ".concat(f.status," ").concat(f.data)),E&&m.Notify.failure(E.error),g&&!p&&(0,a.jsx)(w.Z,{sx:{textAlign:"center"},children:(0,a.jsx)(j.Z,{})}),0===n.length&&!g&&!f&&(0,a.jsxs)(v.Z,{sx:{textAlign:"center"},variant:"h4",component:"p",children:['No tweets with filter "',U,'"']}),(0,a.jsx)(S,{children:n&&n.map((function(t){return(0,a.jsx)(M,{user:t,getBtnStatus:y,updateLoading:L},t.id)}))}),!f&&"ALL"===U&&(0,a.jsx)(w.Z,{sx:{textAlign:"center"},children:(0,a.jsx)(r.Z,{variant:"contained",size:"large",onClick:function(){l((function(t){return t+1}))},disabled:i>=4||g,children:g?"Loading":"Load More"})})]})}function W(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{}),(0,a.jsx)(g,{}),(0,a.jsx)(K,{})]})}}}]);
//# sourceMappingURL=629.e060f734.chunk.js.map